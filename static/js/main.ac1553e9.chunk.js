(this["webpackJsonpbullet-time"]=this["webpackJsonpbullet-time"]||[]).push([[0],{224:function(e,t,n){e.exports=n.p+"static/media/header.7b6f2411.jpg"},232:function(e,t,n){e.exports=n.p+"static/media/acronyms.74aea95b.sqlite"},247:function(e,t,n){e.exports=n(433)},256:function(e,t){},258:function(e,t){},290:function(e,t){},291:function(e,t){},429:function(e,t,n){},430:function(e,t,n){},431:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=n(98),l=n(99),u=n(109),s=n(110),m=n(141),d=n.n(m),g=n(233),h=n(493),f=n(483),p=n(234),E=n(42),b=n(472),v=n(224),y=n.n(v),C=n(480),S=n(481),w=n(55),k=n(482),x=n(230),O=n.n(x),T=(n(3),n(496)),j=n(475),B=n(477),z=n(478),F=n(479),D=n(229),R=n.n(D),A=Object(b.a)({list:{width:250}});function M(e){var t=A();return r.a.createElement("div",null,r.a.createElement(T.a,{open:e.open,onClose:e.toggleDrawer(!1)},r.a.createElement("div",{className:t.list,role:"presentation",onClick:e.toggleDrawer(!1),onKeyDown:e.toggleDrawer(!1)},r.a.createElement(j.a,null,r.a.createElement(B.a,{button:!0,component:"a",href:"https://github.com/smpentecost/BulletTime/tree/master",target:"_blank"},r.a.createElement(z.a,null,r.a.createElement(R.a,null)),r.a.createElement(F.a,{primary:"View Source"}))))))}var N=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function G(){var e=N(),t=r.a.useState({open_drawer:!1}),n=Object(E.a)(t,2),a=n[0],o=n[1],i=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(p.a)({},a,{open_drawer:e}))}};return r.a.createElement("div",{className:e.root},r.a.createElement(C.a,{position:"static"},r.a.createElement("img",{src:y.a,style:{objectFit:"cover",maxHeight:"40px"}}),r.a.createElement(S.a,null,r.a.createElement(k.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:i(!0)},r.a.createElement(O.a,null)),r.a.createElement(w.a,{variant:"h6",className:e.title},"Bullet Time"))),r.a.createElement(M,{toggleDrawer:function(){return i()},open:a.open_drawer}))}var I=n(106),W=n(16),L=n(495);function _(e){var t=Object(a.useState)(null),n=Object(E.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(e.db),l=Object(E.a)(c,2),u=l[0],s=(l[1],Boolean(o)),m=function(t){i(null);var n=new W.SelectionState.createEmpty(e.blockKey).set("anchorOffset",e.start).set("focusOffset",e.end),a=W.Modifier.replaceText(e.contentState,n,t.target.innerText);e.onChange(a)},d=function(e){};return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{open:s,anchorEl:o,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},function(){var t,n=e.decoratedText.replace(/\s/g," "),a=[],o=Object(I.a)(function(e,t){var n=t.replace(/\s/g," ").replace(/'/g,"''").replace(/%/g,"[%]");console.log(n);var a=e.exec("SELECT pair_id FROM words WHERE word LIKE '"+n+"';"),r=null,o=[];if(a.length){r=a[0].values[0];var i=e.exec("SELECT word FROM words WHERE pair_id = "+r+";");i.length&&(o=i[0].values)}return o}(u,n));try{for(o.s();!(t=o.n()).done;){var i=t.value;a.push(r.a.createElement(B.a,{button:!0,key:i,onMouseOver:d,onClick:m},r.a.createElement(F.a,null,i)))}}catch(c){o.e(c)}finally{o.f()}return r.a.createElement(j.a,{dense:!0}," ",a," ")}()),r.a.createElement("span",{className:"acronym",onContextMenu:function(e){e.preventDefault(),i(e.currentTarget)}},e.children))}var K=n(237),U=n(487),H=n(488),$=n(497),q=n(494),P=n(485),J=n(484),V=n(486),X=Object(b.a)((function(e){return{root:{margin:e.spacing(1)}}}));function Q(e){var t=X(),n=r.a.useState({trim:0}),a=Object(E.a)(n,2),o=a[0],i=a[1],c=function(t){return function(n){var a=o.trim;if("string"===typeof t)"left"===t?a--:"right"===t&&a++,i({trim:a}),e.onTrim(a);else{var r=n.target.value;/^-?[0-9]*$/.test(r)&&(i({trim:r}),isNaN(r)?e.onTrim(0):e.onTrim(parseInt(r,10)))}}};return r.a.createElement(f.a,{container:!0,alignItems:"center",className:t.root},r.a.createElement(f.a,{item:!0},r.a.createElement(k.a,{color:"secondary",onClick:c("left")},r.a.createElement(J.a,{color:"primary"}))),r.a.createElement(f.a,{item:!0},r.a.createElement(q.a,{style:{width:80},value:o.trim,size:"small",label:"Trim",variant:"outlined",color:"secondary",onChange:c(),onBlur:function(e){return""===e.target.value||"-"===e.target.value?i({trim:0}):0},InputProps:{endAdornment:r.a.createElement(P.a,{position:"end"},"px")}})),r.a.createElement(f.a,{item:!0},r.a.createElement(k.a,{color:"secondary",onClick:c("right")},r.a.createElement(V.a,{color:"primary"}))))}var Y=Object(b.a)((function(e){return{title:{flexGrow:1}}}));function Z(e){var t=Y();return r.a.createElement(K.a,{elevation:6},r.a.createElement(C.a,{position:"static"},r.a.createElement(S.a,{variant:"dense"},r.a.createElement(w.a,{variant:"h6",className:t.title},"Spacing Menu"))),r.a.createElement(f.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(f.a,{item:!0},r.a.createElement(Q,{onTrim:function(t){return e.onTrim(t)}}),r.a.createElement(U.a,null)),r.a.createElement(f.a,{item:!0},r.a.createElement(H.a,{control:r.a.createElement($.a,{checked:e.graberized,onChange:function(){return e.onGraberize()}}),label:"Graberize"}))))}function ee(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{contentEditable:!1},"- "),r.a.createElement(W.EditorBlock,e))}n(429);function te(e){return r.a.createElement("div",{className:"guide",style:{width:e.position+"px"}})}n(430);function ne(e){return{component:ee}}function ae(e){return"bullet-block"}function re(e){return r.a.createElement(K.a,{elevation:6},r.a.createElement("div",{className:"guided-range"},r.a.createElement("div",{className:"bullet-range ".concat(e.disabled?"disabled":"")},r.a.createElement(W.Editor,{editorState:e.editorState,readOnly:e.disabled,onChange:function(t){return e.onChange(t)},blockRendererFn:ne,blockStyleFn:ae,onBlur:function(){return console.log("blur")},onFocus:function(){console.log("focus");var t=e.editorState,n=W.EditorState.moveFocusToEnd(t);e.onChange(n)}}),r.a.createElement("div",{id:"tail",onClick:function(){var t=e.editorState,n=new W.ContentBlock({text:"",key:Object(W.genKey)(),type:"unstyled"}),a=e.editorState.getCurrentContent().getBlockMap().set(n.key,n),r=W.ContentState.createFromBlockArray(a.toArray()),o=W.EditorState.moveFocusToEnd(W.EditorState.push(t,r,"insert-characters"));e.onChange(o)}},"- Start a new bullet...")),r.a.createElement(te,{position:e.guide})))}n(431);function oe(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var n=t.current?t.current.offsetWidth:0;e.onChange(n)}),[e.content]),r.a.createElement("span",{ref:t,className:"ruler"},"- "+e.content)}function ie(e,t,n){for(var a=function(e){switch(e){case"\u2004":case"\u2006":case"\u2007":case"\u2009":case" ":return!0;default:return!1}},r=["\u2006","\u2009"," ","\u2004","\u2007"],o=[],i=[],c=e.split(""),l=c.findIndex(a);-1!==l;){o.push(l),i.push(r.findIndex((function(e){return e===c[l]})));var u=c.slice(l+1).findIndex(a);l=-1!==u?u+l+1:u}t>n-1?i=function(e){var t=e,n=e.slice(1).reduce((function(e,t,n,a){return t>a[e]?n:e}),0)+1;return t[n]--,t[n]<0&&(t[n]=0),t}(i):t<n-1&&(i=function(e){var t=e,n=e.slice().reduce((function(e,t,n,a){return t<a[e]?n:e}),0);return t[n]++,t[n]>4&&(t[n]=4),t}(i)),o.forEach((function(e,t){c[e]=r[i[t]]}));var s=c.join("");return[s,s===e]}var ce=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).GUIDE_DEFAULT=763;var r=new W.CompositeDecorator([{strategy:function(t,n,a){!function(e,t,n){for(var a,r,o=t.getText();null!==(a=e.exec(o));)n(r=a.index,r+a[0].length)}(e.regexp,t,n)},component:_,props:{db:e.db,onChange:function(e){return a.handleContentChange(e)}}}]);return a.state={editorState:W.EditorState.createEmpty(r),bulletWidths:new Map,graberized:!1,guide:a.GUIDE_DEFAULT,regexp:a.props.regexp},a.cachedSelection=null,a}return Object(l.a)(n,[{key:"renderRulers",value:function(){var e=this,t=[];return this.state.editorState.getCurrentContent().getBlocksAsArray().forEach((function(n){t.push(r.a.createElement(oe,{onChange:function(t){return e.handleWidthMeasurement(n.getKey(),t)},content:n.getText()}))}),this),t}},{key:"graberizeContent",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.graberized,a=this.state.editorState,r=a.getCurrentContent(),o=r.getBlockMap(),i=this.state.bulletWidths,c=Object(I.a)(i.entries());try{for(c.s();!(e=c.n()).done;){var l=e.value,u=l[0],s=l[1][0],m=l[1][1],d=r.getBlockForKey(u);if(d){if(!m||t){var g=[];if(n){var h=this.state.guide;g=ie(d.getText(),s,h)}else g=[d.getText().replace(/[\u2004\u2006\u2007\u2009]/g," "),!0];var f=new W.ContentBlock({text:g[0],key:u,type:"unstyled"});o=o.set(u,f),i.set(u,[s,g[1]])}}else i.delete(u)}}catch(b){c.e(b)}finally{c.f()}var p=W.ContentState.createFromBlockArray(o.toArray()),E=W.EditorState.push(a,p,"insert-characters");this.setState({editorState:E,bulletWidths:i})}},{key:"handleGraberize",value:function(){var e=this,t=!this.state.graberized;this.setState({graberized:t},(function(){return e.graberizeContent(!0)}))}},{key:"handleEditorChange",value:function(e){e.getCurrentContent().getPlainText();var t=e.getSelection(),n=t.getHasFocus(),a=t.getAnchorKey(),r=t.getAnchorOffset(),o=t.getFocusKey(),i=t.getFocusOffset();console.log(n,a,r,o,i),this.setState({editorState:e})}},{key:"handleContentChange",value:function(e){var t=this.state.editorState;this.cachedSelection||(this.cachedSelection=t.getSelection());var n=W.EditorState.push(t,e);this.handleEditorChange(n)}},{key:"handleWidthMeasurement",value:function(e,t){var n=this.state.bulletWidths,a=this.state.guide;n.set(e,[t,!(t-a)]),this.setState({bulletWidths:n}),this.graberizeContent()}},{key:"handleTrim",value:function(e){var t=this.GUIDE_DEFAULT+e;this.setState({guide:t}),this.graberizeContent(!0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(f.a,{item:!0,xs:!0},r.a.createElement(re,{editorState:this.state.editorState,guide:this.state.guide,disabled:this.state.graberized,onChange:function(t){return e.handleEditorChange(t)},onWidthMeasurement:function(t,n){return e.handleWidthMeasurement(t,n)}})),r.a.createElement(f.a,{item:!0},r.a.createElement(Z,{graberized:this.state.graberized,onGraberize:function(){return e.handleGraberize()},onTrim:function(t){return e.handleTrim(t)}}))),this.state.graberized&&this.renderRulers())}}]),n}(r.a.Component),le=n(235),ue=n(4),se=n(492),me=n(489),de=n(490),ge=n(491),he=n(231),fe=n.n(he),pe=Object(ue.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,o=Object(le.a)(e,["children","classes","onClose"]);return r.a.createElement(me.a,Object.assign({disableTypography:!0,className:n.root},o),r.a.createElement(w.a,{variant:"h6"},t),a?r.a.createElement(k.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(fe.a,null)):null)})),Ee=Object(ue.a)((function(e){return{root:{padding:e.spacing(2)}}}))(de.a);Object(ue.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(ge.a);function be(){var e=r.a.useState(!0),t=Object(E.a)(e,2),n=t[0],a=t[1],o=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(se.a,{onClose:o,"aria-labelledby":"customized-dialog-title",open:n},r.a.createElement(pe,{id:"customized-dialog-title",onClose:o},"Guide to Bullet Time v1.0.0"),r.a.createElement(Ee,{dividers:!0},r.a.createElement(w.a,{gutterBottom:!0},"Bullet Time was created to ease the formatting burden that often accompanies Air Force style bullet writing. The application is not finished but new features are being added all the time. For now, Bullet Time offers the following:"),r.a.createElement(w.a,{gutterBottom:!0},r.a.createElement("h4",null,"Auto-Spacing (Graberization)"),'Bullet Time can automatically replace standard space characters with alternative whitespace characters in order to meet length requirements. These new characters are supported by PDF documents and will allow you to ensure your bullets fill an entire line exactly. Simply turn on "Graberization" and then copy and paste the bullets into your form. If you are working in a form with a different line width, change the Trim value in the Spacing Menu.'),r.a.createElement(w.a,{gutterBottom:!0},r.a.createElement("h4",null,"Acronym/Abbreviation Replacement"),"Bullet Time supports acronym/abbreviation recognition and replacement. As you write your bullet, if a word is ",r.a.createElement("span",{className:"acronym"},"highlighted green")," you can right click it to get a list of approved replacements. Note: The list of approved replacements is not currently customizable but that feature is in the works."))))}var ve=n(232),ye=n.n(ve),Ce=(n(432),Object(g.a)({palette:{primary:{main:"#0d0811"},secondary:{main:"#08ff11"}}})),Se=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={acronymDb:null,err:null,acronymRegExp:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;d()().then((function(t){var n=new XMLHttpRequest;n.open("GET",ye.a,!0),n.responseType="arraybuffer",n.onload=function(a){var r=new Uint8Array(n.response),o=new t.Database(r);e.setState({acronymDb:o},e.getRegExp)},n.send()})).catch((function(t){return e.setState({err:t})}))}},{key:"getRegExp",value:function(){var e=this.state.acronymDb.exec("SELECT word FROM words;")[0].values,t="\\b("+(e=e.sort((function(e,t){return t[0].length-e[0].length}))).join("|").replace(/[\\[.+*?%&(){^$]/g,"\\$&")+")(?=([\\s;\\.]|$))";t=t.replace(/\s/g,"\\s"),this.setState({acronymRegExp:new RegExp(t,"gi")})}},{key:"renderComposer",value:function(){return this.state.acronymRegExp?r.a.createElement(ce,{regexp:this.state.acronymRegExp,db:this.state.acronymDb}):r.a.createElement("pre",null,"Loading...")}},{key:"render",value:function(){return r.a.createElement(h.a,{theme:Ce},r.a.createElement(be,null),r.a.createElement(f.a,{container:!0,direction:"column",spacing:1},r.a.createElement(f.a,{item:!0},r.a.createElement(G,null)),r.a.createElement(f.a,{item:!0},this.renderComposer())))}}]),n}(r.a.Component);i.a.render(r.a.createElement(Se,null),document.getElementById("root"))}},[[247,1,2]]]);
//# sourceMappingURL=main.ac1553e9.chunk.js.map