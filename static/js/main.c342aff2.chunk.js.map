{"version":3,"sources":["bullet_time/images/header.jpg","bullet_time/data/acronyms.db","bullet_time/component/Acronyms.jsx","bullet_time/component/Drawer.jsx","bullet_time/component/AppBar.jsx","bullet_time/component/TrimController.jsx","bullet_time/component/BulletMenu.jsx","bullet_time/component/BulletTester.jsx","bullet_time/component/Guide.jsx","bullet_time/component/BulletArea.jsx","bullet_time/component/GuidedBulletArea.jsx","bullet_time/component/BulletEditor.jsx","bullet_time/App.jsx","index.jsx"],"names":["module","exports","Acronyms","state","db","err","results","initSqlJs","then","SQL","setState","Database","catch","sql","this","exec","e","columns","values","map","columnName","row","value","className","onChange","target","placeholder","toString","renderResult","React","Component","useStyles","makeStyles","list","width","TemporaryDrawer","props","classes","Drawer","open","onClose","toggleDrawer","role","onClick","onKeyDown","List","ListItem","button","component","href","ListItemIcon","ListItemText","primary","theme","root","flexGrow","menuButton","marginRight","spacing","title","ButtonAppBar","useState","open_drawer","event","type","key","AppBar","position","src","HeaderImage","style","objectFit","maxHeight","Toolbar","IconButton","edge","color","aria-label","Typography","variant","margin","Trim","trim","onTrim","arg","input","test","isNaN","parseInt","Grid","container","alignItems","item","ChevronLeft","TextField","size","label","onBlur","InputProps","endAdornment","InputAdornment","ChevronRight","BulletMenu","Paper","elevation","direction","Divider","FormControlLabel","control","Switch","checked","onGraberize","BulletTester","ref","useRef","setWidth","useEffect","current","offsetWidth","handleWidthChange","index","Guide","left","BulletArea","disabled","bullets","join","rows","autofocus","GuidedBulletArea","guide","BulletEditor","widths","graberized","split","forEach","bullet","replace","console","log","graberSpace","isWhiteSpace","element","rank","spaces","ranks","bulletArray","findIndex","push","elem","subArrayPosition","slice","newRanks","indexOfMaxValue","reduce","iMax","x","i","arr","demote","indexOfMinValue","iMin","promote","testers","xs","handleBulletChange","handleAutoSpace","handleGuideChange","createBulletTesters","createMuiTheme","palette","main","secondary","BulletTime","ThemeProvider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c342aff2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header.7b6f2411.jpg\";","module.exports = __webpack_public_path__ + \"static/media/acronyms.d7b9937e.db\";","import React from \"react\";\nimport initSqlJs from \"sql.js\";\nimport AcronymList from '../data/acronyms.db';\n\n\nexport default class Acronyms extends React.Component {\n\n  constructor() {\n    super();\n    this.state = { db: null, err: null, results: null };\n  }\n\n  componentDidMount() {\n    // sql.js needs to fetch its wasm file, so we cannot immediately instantiate the database\n    // without any configuration, initSqlJs will fetch the wasm files directly from the same path as the js\n    // see ../config-overrides.js\n    initSqlJs(\n    ).then(SQL => this.setState({ db: new SQL.Database() }))\n      .catch(err => this.setState({ err }));\n  }\n\n  exec(sql) {\n    let results = null, err = null;\n    try {\n      // The sql is executed synchronously on the UI thread. \n      // You may want to use a web worker\n      results = this.state.db.exec(sql); // an array of objects is returned\n    } catch (e) {\n      // exec throws an error when the SQL statement is invalid\n      err = e;\n    }\n    this.setState({ results, err });\n  }\n\n  /**\n   * Renders a single value of the array returned by db.exec(...) as a table\n   */\n  renderResult({ columns, values }) {\n    return (\n      <table>\n        <thead>\n          <tr>\n            {columns.map(columnName =>\n              <td>{columnName}</td>\n            )}\n          </tr>\n        </thead>\n\n        <tbody>\n          {values.map(row => // values is an array of arrays representing the results of the query\n            <tr>\n              {row.map(value =>\n                <td>{value}</td>\n              )}\n            </tr>\n          )}\n        </tbody>\n      </table>\n    );\n  }\n\n  render() {\n    let { db, err, results } = this.state;\n    if (!db) return <pre>Loading...</pre>;\n    return (\n      <div className=\"App\">\n\n        <h1>React SQL interpreter</h1>\n\n        <textarea\n          onChange={e => this.exec(e.target.value)}\n          placeholder=\"Enter some SQL. No inpiration ? Try “select sqlite_version()”\"\n        ></textarea>\n\n        <pre className=\"error\">{(err || \"\").toString()}</pre>\n\n        <pre>{results\n          ? results.map(this.renderResult) // results contains one object per select statement in the query\n          : \"\"\n        }</pre>\n\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n});\n\n\nexport default function TemporaryDrawer(props) {\n  const classes = useStyles();\n  const preventDefault = (event) => event.preventDefault();\n\n  const list = () => (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={props.toggleDrawer(false)}\n      onKeyDown={props.toggleDrawer(false)}\n    >\n      <List>\n        <ListItem\n          button\n          component=\"a\"\n          href=\"https://github.com/smpentecost/BulletTime/tree/master\"\n          target=\"_blank\"\n        >\n          <ListItemIcon><GitHubIcon /></ListItemIcon>\n          <ListItemText primary='View Source' />\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div>\n      <Drawer open={props.open} onClose={props.toggleDrawer(false)}>\n        {list()}\n      </Drawer>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport HeaderImage from '../images/header.jpg';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Drawer from './Drawer';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function ButtonAppBar() {\n  const classes = useStyles();\n  const [state, setState] = React.useState({open_drawer: false});\n\n  const toggleDrawer = (open) => (event) => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state, open_drawer: open});\n  };\n\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <img\n          src={HeaderImage}\n          style={{objectFit: 'cover', maxHeight: '40px'}}\n        />\n        <Toolbar>\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon onClick={toggleDrawer(true)}/>\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.title}>\n            Bullet Time\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        toggleDrawer={() => toggleDrawer()}\n        open={state[\"open_drawer\"]}/>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Container, Grid, IconButton, InputAdornment, TextField } from '@material-ui/core';\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(1),\n  },\n}));\n\n\nexport default function Trim(props) {\n  const classes = useStyles();\n  const [state, setState] = React.useState({trim: 0});\n\n  const onTrim = (arg) => (event) => {\n    const re = /^-?[0-9]*$/;\n    let trim = state.trim;\n    if (typeof arg === \"string\") {\n      if (arg === \"left\") {\n        trim--;\n      } else if (arg === \"right\") {\n        trim++;\n      }\n      setState({trim: trim});\n      props.onTrim(trim);\n    } else {\n      let input = event.target.value;\n      if (re.test(input)) {\n        setState({trim: input});\n        if (!isNaN(input)) {\n          props.onTrim(parseInt(input, 10));\n        } else {\n          props.onTrim(0);\n        }\n      }\n    }\n  };\n\n  return(\n    <Grid\n      container\n      alignItems=\"center\"\n      className={classes.root}\n    >\n      <Grid item>\n        <IconButton\n          color=\"secondary\"\n          onClick={onTrim(\"left\")}\n        >\n          <ChevronLeft\n            color=\"primary\"\n          ></ChevronLeft>\n        </IconButton>\n      </Grid>\n      <Grid item>\n        <TextField\n          style={{width: 80}}\n          value={state.trim}\n          size=\"small\"\n          label=\"Trim\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          onChange={onTrim()}\n          onBlur={(event) => (\n            event.target.value === \"\" || event.target.value === \"-\" ? setState({trim: 0}):0\n          )}\n          InputProps={{\n            endAdornment: <InputAdornment position=\"end\">px</InputAdornment>,\n          }}\n        />\n      </Grid>\n      <Grid item>\n        <IconButton\n          color=\"secondary\"\n          onClick={onTrim(\"right\")}\n        >\n          <ChevronRight\n            color=\"primary\"\n          ></ChevronRight>\n        </IconButton>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Container, Divider, FormControlLabel, FormGroup, Grid, Paper, Switch, Toolbar, Typography } from '@material-ui/core';\nimport TrimController from './TrimController';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    flexGrow: 1,\n  },\n}));\n\n\nexport default function BulletMenu(props) {\n  const classes = useStyles();\n  \n  return(\n    <Paper elevation={6}>\n      <AppBar position=\"static\">\n        <Toolbar variant=\"dense\">\n          <Typography\n            variant=\"h6\"\n            className={classes.title}\n          >\n            Spacing Menu\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Grid\n        container\n        direction=\"column\"\n        alignItems=\"center\"\n      >\n        <Grid item>\n          <TrimController\n            onTrim={(arg) => props.onTrim(arg)}\n          />\n          <Divider/>\n        </Grid>\n        <Grid item>\n          <FormControlLabel\n            control=\n              {<Switch\n                 checked={props.checked}\n                 onChange={() => props.onGraberize()}\n               />}\n            label=\"Graberize\"\n          />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { useEffect, useRef, useState } from 'react';\n\n\nexport default function BulletTester(props) {\n  const ref = useRef(null);\n  const [width, setWidth] = useState(0);\n\n  //Set the local state width any time the screen renders\n  useEffect(() => {\n    setWidth(ref.current ? ref.current.offsetWidth : 0);\n  });\n\n  //Set the parent width any time the local state width changes\n  useEffect(() => {\n    props.handleWidthChange(props.index, width);\n  }, [width, props.value]);\n  \n  return (\n    <div ref={ref} className=\"bullet-tester\">\n      {props.value}\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Guide(props) {\n  return(\n    <div\n      className=\"guide\"\n      style={{left: props.position+\"px\"}}\n    ></div>\n  );\n}\n","import React from 'react';\n\nexport default function BulletArea(props) {\n  return (\n    <textarea\n      className={`bullet-area ${props.disabled ? \"disabled\" : \"\"}`}\n      value={props.bullets.join(\"\\n\")}\n      placeholder=\"Write your bullets here...\"\n      rows=\"20\"\n      onChange={event => props.onChange(event)}\n      autofocus=\"true\"\n    ></textarea>\n  );\n}\n","import React from 'react';\nimport Guide from './Guide';\nimport BulletArea from './BulletArea';\nimport { Paper } from '@material-ui/core';\n\nexport default function GuidedBulletArea(props) {\n  return (\n    <Paper elevation={6}>\n      <div className=\"guided-bullet-area\">\n        <BulletArea\n          bullets={props.bullets}\n          disabled={props.disabled}\n          onChange={event => props.onChange(event)}\n        />\n        <Guide\n          position={props.guide}\n        />\n      </div>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { Grid, Paper, FormGroup, Switch, FormControlLabel } from '@material-ui/core';\nimport BulletMenu from './BulletMenu';\nimport BulletTester from './BulletTester';\nimport GuidedBulletArea from './GuidedBulletArea';\nimport '../style/BulletEditor.css';\n\nexport default class BulletEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bullets: [], //Array(1).fill('- Develops threat radar models/simulations; drives US/Allied radar warning reprogramming & intel mission data feeds'), //[].\n      widths: [],\n      graberized: false,\n      guide: 763,\n      trim: 0,\n    };\n  }\n\n  handleBulletChange(event) {\n    if (!this.state.graberized) {\n      var bullets = this.state.bullets;\n      bullets = event.target.value.split(\"\\n\");\n      this.setState({bullets: bullets});\n    }\n  }\n\n  handleAutoSpace() {\n    //If not currently graberized, that means it should now be\n    //graberized\n\n    var bullets = this.state.bullets;\n    bullets.forEach((bullet, index) => {\n      if (!this.state.graberized) {\n        const guide = this.state.guide;\n        console.log('trigger width', this.state.widths[index]);\n        bullets[index] = this.graberSpace(index, this.state.widths[index], guide);\n      } else { //Remove graber spaces\n        bullets[index] = bullet.replace(\n          /[\\u2004\\u2006\\u2007\\u2009]/g,\n          ' '\n        );\n      }\n    }, this);\n\n  this.setState({\n    bullets: bullets,\n    graberized: !this.state.graberized});\n}\n\n  handleWidthChange(index, width) {\n    const guide = this.state.guide;\n    let widths = this.state.widths;\n    widths[index] = width;\n    this.setState({widths: widths});\n    if (this.state.graberized) {\n      if (width < guide-6 || width > guide-1) {\n        var bullets = this.state.bullets;\n        bullets[index] = this.graberSpace(index, width, guide);\n        this.setState({bullets: bullets});\n      }\n    }\n  }\n\n  handleGuideChange(arg) {\n    const guide = 763+arg;\n    this.setState({guide: guide});\n\n    var bullets = this.state.bullets;\n    bullets.forEach((bullet, index) => {\n      if (this.state.graberized) {\n        console.log('trigger width', this.state.widths[index]);\n        bullets[index] = this.graberSpace(index, this.state.widths[index], guide);\n      }\n    }, this);\n    this.setState({bullets: bullets,});\n  }\n\n  graberSpace(index, width, guide) {\n    /*\n      The best way to do this is recursively, changing a single\n      character at once and checking length as we go. That is because\n      these spaces don't have specific pixel widths associated with\n      them. Instead their widths are dynamic - based on font style,\n      size and the other characters around them. So while it sucks\n      that we need to use synchronous logic, atleast it only happens\n      when the user toggles the spacing on.\n\n      The whitespace unicode available for use with an OPR:\n      2006:approx-2px(smallest), 2009:approx-1px(small),\n      2004:approx+2px(big), 2007:approx+4px(biggest)\n    */\n\n    const promote = (ranks) => {\n      let newRanks = ranks;\n      // Intentionally slicing so that we don't change the first space\n      var indexOfMinValue = ranks.slice(1).reduce((iMin, x, i, arr) => x < arr[iMin] ? i : iMin, 0) + 1;\n      newRanks[indexOfMinValue]++;\n      if (newRanks[indexOfMinValue] > 4) {\n        newRanks[indexOfMinValue] = 4;\n      }\n      return(newRanks);\n    };\n\n    const demote = (ranks) => {\n      let newRanks = ranks;\n      // Intentionally slicing so that we don't change the first space\n      var indexOfMaxValue = ranks.slice(1).reduce((iMax, x, i, arr) => x > arr[iMax] ? i : iMax, 0) + 1;\n      newRanks[indexOfMaxValue]--;\n      if (newRanks[indexOfMaxValue] < 0) {\n        newRanks[indexOfMaxValue] = 0;\n      }\n      return(newRanks);\n    };\n\n    const isWhiteSpace = (element) => {\n      switch(element) {\n      case \"\\u2004\": return true;\n      case \"\\u2006\": return true;\n      case \"\\u2007\": return true;\n      case \"\\u2009\": return true;\n      case \" \": return true;\n      default: return false;\n      }\n    };\n\n    const rank = ['\\u2006', '\\u2009', ' ', '\\u2004', '\\u2007'];\n    var bullet = this.state.bullets[index];\n\n    let spaces = [];\n    let ranks = [];\n    let bulletArray = bullet.split(\"\");\n    \n    //Find all the white space character indexes\n    let position = bulletArray.findIndex(isWhiteSpace);\n    while (position !== -1) {\n      spaces.push(position);\n      ranks.push(rank.findIndex(elem => elem === bulletArray[position]));\n      let subArrayPosition = bulletArray.slice(position + 1).findIndex(isWhiteSpace);\n      if (subArrayPosition !== -1) {\n        position = subArrayPosition + position + 1;\n      } else {\n        position = subArrayPosition;\n      }\n    }\n\n    if (width > guide-1) {\n      ranks = demote(ranks);\n    } else if (width < guide-1) {\n      ranks = promote(ranks);\n    }\n\n    console.log(ranks);\n    console.log(width);\n\n    spaces.forEach((position, index) => {\n      bulletArray[position] = rank[ranks[index]];\n    });\n\n    return bulletArray.join('');\n  }\n\n  createBulletTesters() {\n    var testers = [];\n    var bullets = this.state.bullets;\n\n    bullets.forEach(function(bullet, index) {\n      testers.push(\n        <BulletTester\n          value={bullet}\n          index={index}\n          handleWidthChange={(index, width) => this.handleWidthChange(index, width)}\n        />\n      );\n    }, this);\n\n    return(testers);\n  }\n\n  render() {\n    return (\n      <div>\n        <Grid container spacing={1}>\n          <Grid item xs>\n            <GuidedBulletArea\n              bullets={this.state.bullets}\n              guide={this.state.guide}\n              disabled={this.state.graberized}\n              onChange={event => this.handleBulletChange(event)}\n            />\n          </Grid>\n          <Grid item>\n            <BulletMenu\n              checked={this.state.graberized}\n              onGraberize={() => this.handleAutoSpace()}\n              onTrim={(arg) => this.handleGuideChange(arg)}\n            />\n          </Grid>\n        </Grid>\n        {this.createBulletTesters()}\n\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport Acronyms from './component/Acronyms';\nimport AppBar from './component/AppBar';\nimport BulletEditor from './component/BulletEditor';\n\nimport './App.css';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#0d0811',\n    },\n    secondary: {\n      main: '#08ff11',\n    },\n  },\n});\n      \nexport default class BulletTime extends React.Component {\n  render() {\n    return (\n      <ThemeProvider theme={theme}>\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n        >\n          <Grid item>\n            <AppBar />\n          </Grid>\n          <Grid item>\n            <BulletEditor />\n          </Grid>\n        </Grid>\n        <Acronyms/>\n      </ThemeProvider>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./bullet_time/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}